<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SKYvibe - Register</title>
    {% load static %} <!-- Load the static tag -->
    <link rel="stylesheet" href="{% static 'welcomePage/css/homePage_css.css' %}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<style>

</style>

<body>

    <div class="banner">
        <!-- clouds animation -->
        <div class="clouds">
            <img src="{% static 'welcomePage/images/cloud1.png' %}" style="--i:1;">
            <img src="{% static 'welcomePage/images/cloud2.png' %}" style="--i:2;">
            <img src="{% static 'welcomePage/images/cloud3.png' %}" style="--i:3;">
            <img src="{% static 'welcomePage/images/cloud4.png' %}" style="--i:4;">
            <img src="{% static 'welcomePage/images/cloud5.png' %}" style="--i:5;">
            <img src="{% static 'welcomePage/images/cloud1.png' %}" style="--i:10;">
            <img src="{% static 'welcomePage/images/cloud2.png' %}" style="--i:9;">
            <img src="{% static 'welcomePage/images/cloud3.png' %}" style="--i:8;">
            <img src="{% static 'welcomePage/images/cloud4.png' %}" style="--i:7;">
            <img src="{% static 'welcomePage/images/cloud5.png' %}" style="--i:6;">
        </div>

    {% block content %}
      <!-- Register form - user clicks "register" -->
      <div class="register-card" id="registerForm">
        <br>
        <a class="back-login" href="{% url 'login' %}" style="font-size: large;"> &#60; Back</a>

        <form id="registerform" action="" method="post" >
        {% csrf_token %}

        <!-- Register Errors -->
        <div class="form-errors">
            {% if form.non_field_errors %}
                <ul>
                    {% for error in form.non_field_errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
            {% for field in form %}
                {% for error in field.errors %}
                    <ul>
                        <li>{{ error }}</li>
                    </ul>
                {% endfor %}
            {% endfor %}
        </div>

         <!-- Register Form -->
         <div class="form-group">
            {{ form.email }}
        </div>

        <div class="form-group">
            {{ form.name }}
        </div>

        <div class="form-group">
            {{ form.role }}
        </div>

        <div class="department-team-container">
            <div class="form-group">
                {{ form.department }}

            </div>
        
            <div class="form-group">
                {{ form.team }}
            </div>
        </div>
        <div class="form-group">
            {{ form.password1 }}
            <!-- Password visibility - toggle  -->
            <img src="{% static 'welcomePage/images/eye.png' %}" class="toggle-password" alt="Toggle Password Visibility">
        </div>
        <p class="password-requirements">
            Password should contain at least 8 characters, a mix of uppercase and lowercase letters, numbers
            and special characters.
        </p>

        <div class="form-group">
            {{ form.password2 }}
            <img src="{% static 'welcomePage/images/eye.png' %}" class="toggle-password" alt="Toggle Password Visibility">

        </div>

        <div class="terms-container">
            {{ form.terms_conditions }}
            <p class="terms-text">I agree <a href="https://www.sky.com/help/articles/sky-terms-and-conditions" style="color: white;">Terms & Conditions.</a></p>
        </div>

        <button type="submit" class="register-btn">Register</button>
        </form>
    </div>
    </div>
{% endblock content %}

<script>
    //password toggle
    document.querySelectorAll('.toggle-password').forEach(icon => {
               icon.addEventListener('click', function () {
                   const passwordInput = this.previousElementSibling;
                   const isPassword = passwordInput.type === 'password';
                   passwordInput.type = isPassword ? 'text' : 'password';
                   this.classList.toggle('visible', isPassword);
               });
           });
</script>
</body>
</html>